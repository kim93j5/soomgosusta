<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="soomgosusta.mapper.RequestMapper">
	<cache />
	
<!-- select * from question where question_code LIKE '%LI%' OR question_code like 'CQ%' -->	
	<select id="listQuestion" parameterType="hashmap" resultType="Question">
		select * from question
			<where>
				question_code LIKE #{question_Code1} 
				OR question_code LIKE #{question_Code2}
				OR question_code LIKE #{question_Code3}
			</where>
	</select>
	
	<select id="listAnswer" parameterType="String" resultType="Answer">
		select * from answer where question_code= #{question_Code} order by answer_code
	</select>
	
	<select id="listRequestAnswer" parameterType="String" resultType="Answer">
		select * from answer where answer_code = #{answer_Code}
	</select>
	
	<insert id="insertRequest" parameterType="hashmap">
		insert into request(member_id, category_code, request_date) values(#{member_Id}, #{searchCode}, sysdate)
	</insert>
	
	<update id= "updateRequest" parameterType="hashmap">
		update request 
		set 
		<if test="request_QA_1 != null">
			request_QA_01 = #{request_QA_1},
		</if>
		<if test="request_QA_2 != null">
			request_QA_02 = #{request_QA_2}
		</if>
		<if test="request_QA_3 != null">
			request_QA_03 = #{request_QA_3},
		</if>
		<if test="request_QA_4 != null">
			request_QA_04 = #{request_QA_4},
		</if>
		<if test="request_QA_5 != null">
			request_QA_05 = #{request_QA_5},
		</if>
		<if test="request_QA_6 != null">
			request_QA_06 = #{request_QA_6},
		</if>
		<if test="request_QA_7 != null">
			request_QA_07 = #{request_QA_7},
		</if>
		<if test="request_QA_8 != null">
			request_QA_08 = #{request_QA_8},
		</if>
		<if test="request_QA_9 != null">
			request_QA_09 = #{request_QA_9},
		</if>
		<if test="request_QA_10 != null">
			request_QA_10 = #{request_QA_10}
		</if>
		where member_id = #{member_Id} and category_code = #{searchCode}
	</update>
</mapper>


